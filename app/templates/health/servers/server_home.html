{% extends 'base.html' %}

{% block title %} Server Health Check {% endblock %}
{% block header %} Servers List
   {% if current_user.is_authenticated %}
   <span class="d-flex justify-content-end" style="margin-top:-30px">
     <a class="btn btn-outline-danger fs-sm" href="/health/servers/create">Create Server</a>
   </span>
  {% endif %}
{% endblock %}

{% block content %}
  {% if current_user.is_admin %}
    {% for server in servers %}
      {% include 'health/servers/template_server_list.html' %}
      {% if not loop.last %} <hr> {% endif %}
    {% endfor %}
  {% else %}
    {% for server in server_list_by_user %}
      {% include 'health/servers/template_server_list.html' %}
      {% if not loop.last %} <hr> {% endif %}
    {% endfor %}
  {% endif %}
{# pagenation: target_app, page, total_pages, per_page, page_length, start_page, end_page #}
  {% with 
    target_app='servers', 
    page=page, 
    total_pages=total_pages, 
    per_page=per_page, 
    page_length=page_len, 
    start_page=start_page, 
    end_page=end_page %}
      {% include 'auth/pagenation.html' with context %}
  {% endwith %}
{% endblock %}