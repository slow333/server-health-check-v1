{% extends 'base.html' %}

{% block title %} Server Health Check {% endblock %}
{% block header %} Host Info List
   {% if current_user.is_authenticated %}
   <span class="d-flex justify-content-end" style="margin-top:-30px">
     <a class="btn btn-outline-danger fs-sm" href="/health/hostinfos/create">Create Host Info</a>
   </span>
  {% endif %}
{% endblock %}

{% block content %}
  {% if current_user.is_admin %}
    {% for hostinfo in hostinfos %}
      {% include 'health/hostinfos/template_hostinfos_list.html' %}
      {% if not loop.last %} <hr> {% endif %}
    {% endfor %}
  {% else %}
    {% for hostinfo in hostinfo_server_by_user %}
      {% include 'health/hostinfos/template_hostinfos_list.html' %}
      {% if not loop.last %} <hr> {% endif %}
    {% endfor %}
  {% endif %}
{# pagenation: target_app, page, total_pages, per_page, page_length, start_page, end_page #}
  {% with 
    target_app='/health/hostinfos', 
    page=page, 
    total_pages=total_pages, 
    per_page=per_page, 
    page_length=page_len, 
    start_page=start_page, 
    end_page=end_page %}
      {% include 'auth/pagenation.html' with context %}
  {% endwith %}
{% endblock %}